[workspace]

members = [
  "examples/spawn-chain",
  "examples/interpreter-in-browser",
  "lumen",
  "lumen_runtime",
  "lumen_runtime_macros",
  "lumen_web",
  "liblumen_arena",
  "liblumen_alloc",
  "liblumen_alloc_macros",
  "liblumen_beam",
  "liblumen_codegen",
  "liblumen_compiler",
  "liblumen_compiler_macros",
  "liblumen_core",
  "liblumen_eir_interpreter",
  "liblumen_incremental",
  "liblumen_session",
  "liblumen_target",
  "liblumen_term",
  "liblumen_util",
]

default-members = [
  "lumen",
  "lumen_runtime",
  "lumen_runtime_macros",
  "lumen_web",
  "liblumen_arena",
  "liblumen_alloc",
  "liblumen_alloc_macros",
  "liblumen_beam",
  "liblumen_codegen",
  "liblumen_compiler",
  "liblumen_compiler_macros",
  "liblumen_core",
  "liblumen_eir_interpreter",
  "liblumen_incremental",
  "liblumen_session",
  "liblumen_target",
  "liblumen_term",
  "liblumen_util",
]

[profile.release]
# Experimentally determined to give the smallest size out of all `opt-level`s (0-3,'s','z') and
# `lto`s (true and false) for `examples/spawn-chain/pkg/spawn_chaing_bg.wasm`
opt-level = 2
lto = false
